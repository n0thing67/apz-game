<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
  <title>–ê–ü–ó ‚Äî –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å</title>
  <link rel="stylesheet" href="styles.css" />
  <script src="https://telegram.org/js/telegram-web-app.js"></script>
</head>
<body class="admin-body">

  <!-- HOME PAGE -->
  <div id="screen-admin-home" class="screen active admin-screen">
    <div class="admin-wrap">
      <h1>üõ† –ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å –ê–ü–ó</h1>
      <p class="muted" id="who">–ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ—Å—Ç—É–ø–∞‚Ä¶</p>

      <div class="admin-home">
        <button class="btn admin-home-btn" id="go-stats">üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞</button>
        <button class="btn admin-home-btn" id="go-users">üë• –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏</button>
        <button class="btn admin-home-btn" id="go-levels">üéõ –ò–≥—Ä—ã</button>
        <button class="btn admin-home-btn" id="go-awards">üèÖ –ì—Ä–∞–º–æ—Ç—ã</button>
      </div>

      <div class="admin-actions">
        <button class="btn btn-secondary" id="btn-exit">‚Üê –í—ã–π—Ç–∏</button>
      </div>
    </div>
  </div>

  <!-- STATS PAGE -->
  <div id="screen-admin-stats" class="screen admin-screen" aria-hidden="true">
    <div class="admin-wrap">
      <div class="admin-page-head">
        <div class="admin-page-title">üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞</div>
      </div>

      <div class="admin-actions">
        <button class="btn" id="btn-refresh-stats">–û–±–Ω–æ–≤–∏—Ç—å</button>
        <button class="btn btn-secondary" id="btn-reset-scores-stats">–°–±—Ä–æ—Å–∏—Ç—å –≤—Å—é —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É</button>
      </div>

      <div class="level-card" style="margin:0;">
        <div class="level-title">üèÜ –í—Å–µ —É—á–∞—Å—Ç–Ω–∏–∫–∏</div>
        <div class="level-stats">
          <pre id="stats-all" style="white-space:pre-wrap; margin:0;">‚Äî</pre>
        </div>
      </div>

      <div class="level-card" style="margin-top:12px;">
        <div class="level-title">üßπ –û—á–∏—Å—Ç–∏—Ç—å —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è</div>
        <div class="level-stats muted">–í—ã–±–µ—Ä–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏–∑ —Å–ø–∏—Å–∫–∞ –Ω–∏–∂–µ (–º–æ–∂–Ω–æ –∏—Å–∫–∞—Ç—å –ø–æ –∏–º–µ–Ω–∏/—Ñ–∞–º–∏–ª–∏–∏).</div>

        <div class="admin-row" style="margin-top:10px;">
          <input id="reset-user-search" type="text" placeholder="–ü–æ–∏—Å–∫: –∏–º—è –∏–ª–∏ —Ñ–∞–º–∏–ª–∏—è" class="admin-input" />
        </div>

        <div class="level-stats" style="margin-top:10px;">
          <div class="admin-selected" id="reset-user-selected">–ù–µ –≤—ã–±—Ä–∞–Ω</div>
          <div id="reset-user-list" class="admin-userlist" aria-label="–°–ø–∏—Å–æ–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π"></div>
          <input id="reset-user-id" type="hidden" />
        </div>

        <div class="admin-actions" style="margin-top:12px;">
          <button class="btn" id="btn-reset-user-scores" disabled>–û—á–∏—Å—Ç–∏—Ç—å –≤—ã–±—Ä–∞–Ω–Ω–æ–≥–æ</button>
          <button class="btn btn-secondary" id="btn-refresh-reset-user">–ü–æ–¥—Ç—è–Ω—É—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π</button>
        </div>
      </div>

      <div class="admin-actions" style="margin-top:14px;">
        <button class="btn btn-secondary" id="back-from-stats">‚Üê –ù–∞–∑–∞–¥</button>
      </div>
    </div>
  </div>

  <!-- USERS PAGE -->
  <div id="screen-admin-users" class="screen admin-screen" aria-hidden="true">
    <div class="admin-wrap">
      <div class="admin-page-head">
        <div class="admin-page-title">üë• –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏</div>
      </div>

      <div class="level-card" style="margin:0;">
        <div class="level-title">–£–¥–∞–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π</div>
        <div class="level-stats muted">–í—ã–±–µ—Ä–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏–∑ —Å–ø–∏—Å–∫–∞ –Ω–∏–∂–µ (–º–æ–∂–Ω–æ –∏—Å–∫–∞—Ç—å –ø–æ –∏–º–µ–Ω–∏/—Ñ–∞–º–∏–ª–∏–∏).</div>

        <div class="admin-row" style="margin-top:10px;">
          <input id="users-search" type="text" placeholder="–ü–æ–∏—Å–∫: –∏–º—è –∏–ª–∏ —Ñ–∞–º–∏–ª–∏—è" class="admin-input" />
        </div>

        <div class="level-stats" style="margin-top:10px;">
          <div class="admin-selected" id="users-selected">–ù–µ –≤—ã–±—Ä–∞–Ω</div>
          <div id="users-list" class="admin-userlist" aria-label="–°–ø–∏—Å–æ–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π"></div>
          <input id="delete-id" type="hidden" />
        </div>

        <div class="admin-actions" style="margin-top:12px;">
          <button class="btn" id="btn-delete-user" disabled>–£–¥–∞–ª–∏—Ç—å –≤—ã–±—Ä–∞–Ω–Ω–æ–≥–æ</button>
        </div>
      </div>

      <div class="admin-actions" style="margin-top:12px;">
        <button class="btn" id="btn-refresh-users">–û–±–Ω–æ–≤–∏—Ç—å</button>
      </div>

      <div class="admin-actions" style="margin-top:14px;">
        <button class="btn btn-secondary" id="back-from-users">‚Üê –ù–∞–∑–∞–¥</button>
      </div>
    </div>
  </div>

  <!-- LEVELS PAGE -->
  <div id="screen-admin-levels" class="screen admin-screen" aria-hidden="true">
    <div class="admin-wrap">
      <div class="admin-page-head">
        <div class="admin-page-title">üéõ –ò–≥—Ä—ã (–≤–∫–ª/–≤—ã–∫–ª)</div>
      </div>

      <div class="admin-actions">
        <button class="btn" id="btn-refresh-levels">–û–±–Ω–æ–≤–∏—Ç—å</button>
      </div>

      <div class="level-card" style="margin:0;">
        <div class="level-title">–°–ø–∏—Å–æ–∫ –∏–≥—Ä</div>
        <div class="level-stats muted">–û—Ç–∫–ª—é—á–µ–Ω–Ω—ã–µ –∏–≥—Ä—ã —Å—Ç–∞–Ω–æ–≤—è—Ç—Å—è –Ω–µ–¥–æ—Å—Ç—É–ø–Ω—ã –≤ –º–µ–Ω—é —É—Ä–æ–≤–Ω–µ–π —É –∏–≥—Ä–æ–∫–æ–≤.</div>
        <div id="levels" class="admin-levels"></div>
        </div>
      </div>

      <div class="admin-actions" style="margin-top:14px;">
        <button class="btn btn-secondary" id="back-from-levels">‚Üê –ù–∞–∑–∞–¥</button>
      </div>
    </div>
  </div>

  <!-- AWARDS PAGE -->
  <div id="screen-admin-awards" class="screen admin-screen" aria-hidden="true">
    <div class="admin-wrap">
      <div class="admin-page-head">
        <div class="admin-page-title">üèÖ –ì—Ä–∞–º–æ—Ç—ã –∏ –¥–∏–ø–ª–æ–º—ã</div>
      </div>

      <div class="level-card" style="margin:0;">
        <div class="level-title">–°—Ñ–æ—Ä–º–∏—Ä–æ–≤–∞—Ç—å –∏ –æ—Ç–ø—Ä–∞–≤–∏—Ç—å</div>
        <div class="level-stats muted">–í—ã–±–µ—Ä–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏–∑ —Å–ø–∏—Å–∫–∞ –Ω–∏–∂–µ (–ø–æ–∏—Å–∫ –ø–æ –∏–º–µ–Ω–∏/—Ñ–∞–º–∏–ª–∏–∏). –ò–º—è –∏ —Ñ–∞–º–∏–ª–∏—è –ø–æ–¥—Å—Ç–∞–≤–ª—è—é—Ç—Å—è –∏–∑ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –ø–æ Telegram ID.</div>

        <div class="admin-row award-top-row" style="gap:10px; flex-wrap:wrap;">
          <select id="award-template" class="admin-input" style="flex:1; min-width:180px;">
            <option value="participation">–°–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç –∑–∞ —É—á–∞—Å—Ç–∏–µ</option>
            <option value="1">–î–∏–ø–ª–æ–º ‚Äî 1 –º–µ—Å—Ç–æ</option>
            <option value="2">–î–∏–ø–ª–æ–º ‚Äî 2 –º–µ—Å—Ç–æ</option>
            <option value="3">–î–∏–ø–ª–æ–º ‚Äî 3 –º–µ—Å—Ç–æ</option>
          </select>
          <!-- Desktop: –æ–±—ã—á–Ω—ã–π select. Mobile: –∫–∞—Å—Ç–æ–º–Ω—ã–π –ø–∏–∫–µ—Ä (–Ω–∏–∂–µ), –ø–æ—Ç–æ–º—É —á—Ç–æ –º–æ–±–∏–ª—å–Ω—ã–µ WebView –Ω–µ —Å—Ç–∏–ª–∏–∑—É—é—Ç <option>. -->
          <select id="award-font" class="admin-input admin-font-select" style="flex:1; min-width:180px;"></select>
          <div id="award-font-mobile" class="admin-font-mobile" style="flex:1; min-width:180px; display:none;"></div>
        </div>

        <div class="admin-row" style="gap:10px; flex-wrap:wrap; margin-top:10px;">
          <input id="award-event" type="text" placeholder="–ù–∞–∑–≤–∞–Ω–∏–µ –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏—è" class="admin-input" style="flex:2; min-width:240px;" />
          <div class="admin-date-field" style="flex:1; min-width:200px;">
            <input id="award-date" type="date" class="admin-input admin-date-input" />
            <button type="button" class="admin-date-btn" id="award-date-btn" aria-label="–û—Ç–∫—Ä—ã—Ç—å –∫–∞–ª–µ–Ω–¥–∞—Ä—å">
              <svg viewBox="0 0 24 24" width="18" height="18" aria-hidden="true" focusable="false">
                <path fill="currentColor" d="M7 2a1 1 0 0 1 1 1v1h8V3a1 1 0 1 1 2 0v1h1.5A2.5 2.5 0 0 1 22 6.5v13A2.5 2.5 0 0 1 19.5 22h-15A2.5 2.5 0 0 1 2 19.5v-13A2.5 2.5 0 0 1 4.5 4H6V3a1 1 0 0 1 1-1Zm12.5 6H4.5a.5.5 0 0 0-.5.5v11a.5.5 0 0 0 .5.5h15a.5.5 0 0 0 .5-.5v-11a.5.5 0 0 0-.5-.5ZM6 10h3v3H6v-3Zm0 5h3v3H6v-3Zm5-5h3v3h-3v-3Zm0 5h3v3h-3v-3Zm5-5h3v3h-3v-3Z"/>
              </svg>
            </button>
          </div>
        </div>

        <!-- –ö–Ω–æ–ø–∫–∏ –¥–µ–π—Å—Ç–≤–∏–π —É–Ω–µ—Å–µ–Ω—ã –≤–Ω–∏–∑ —Å—Ç—Ä–∞–Ω–∏—Ü—ã (–ø–µ—Ä–µ–¥ –∫–Ω–æ–ø–∫–æ–π "–ù–∞–∑–∞–¥") -->

        <div class="level-stats" style="margin-top:10px;">
          <div class="admin-row" style="margin-top:10px;">
            <input id="awards-search" type="text" placeholder="–ü–æ–∏—Å–∫: –∏–º—è –∏–ª–∏ —Ñ–∞–º–∏–ª–∏—è" class="admin-input" />
          </div>
          <div class="admin-selected" id="awards-selected">–ù–µ –≤—ã–±—Ä–∞–Ω</div>
          <div id="awards-list" class="admin-userlist" aria-label="–°–ø–∏—Å–æ–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –¥–ª—è –Ω–∞–≥—Ä–∞–∂–¥–µ–Ω–∏—è"></div>
        </div>

        <div class="level-stats" style="margin-top:10px;">
          <div class="muted">–ü—Ä–µ–≤—å—é —à–∞–±–ª–æ–Ω–æ–≤:</div>
          <div style="display:flex; gap:10px; flex-wrap:wrap; margin-top:8px; justify-content:center; width:100%;">
            <img src="assets/cert_templates/sertificat.png" alt="–°–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç" style="width:120px; border-radius:10px;" />
            <img src="assets/cert_templates/1mesto.png" alt="1 –º–µ—Å—Ç–æ" style="width:120px; border-radius:10px;" />
            <img src="assets/cert_templates/2mesto.png" alt="2 –º–µ—Å—Ç–æ" style="width:120px; border-radius:10px;" />
            <img src="assets/cert_templates/3mesto.png" alt="3 –º–µ—Å—Ç–æ" style="width:120px; border-radius:10px;" />
          </div>
        </div>
      </div>

      <!-- –ö–Ω–æ–ø–∫–∏ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –≤–Ω–∏–∑—É, –ø—Ä—è–º–æ –ø–µ—Ä–µ–¥ "–ù–∞–∑–∞–¥" -->
      <div class="admin-actions admin-actions-bottom" style="margin-top:14px;">
        <button class="btn" id="btn-award-send">–°—Ñ–æ—Ä–º–∏—Ä–æ–≤–∞—Ç—å –∏ –æ—Ç–ø—Ä–∞–≤–∏—Ç—å</button>
        <button class="btn btn-secondary" id="btn-award-clear">–û—á–∏—Å—Ç–∏—Ç—å –ø–æ–ª—è</button>
        <button class="btn btn-secondary" id="btn-award-refresh">–ü–æ–¥—Ç—è–Ω—É—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π</button>
      </div>

      <div class="admin-actions" style="margin-top:12px;">
        <button class="btn btn-secondary" id="back-from-awards">‚Üê –ù–∞–∑–∞–¥</button>
      </div>
    </div>
  </div>


  <script src="admin.js"></script>
</body>
</html>
